import{c as Ke,r as Et,i as $e,a as dt,w as yt,o as Ve,h as Ze,b as Zt,g as Xe,d as Qe,l as Je,e as re,u as ge,s as We,f as ct,j as kt,k as S,m as I,n as jt,p as Mt,q as Rt,Q as Ft,F as Ut,t as ut,_ as ne,v as Ye,x as Ot,y as qe,z as pe,A as tr,B as er,C as rr,D as nr,E as oe,G as or,H as ir,I as ar,J as sr}from"./index.c74af1de.js";import{Q as lr,a as cr,b as me,c as ve,d as ur,e as fr,_ as hr,f as dr}from"./NavItemMenu.d46d85a8.js";import{Q as gt}from"./QItemLabel.c9451d4c.js";import{Q as gr}from"./QList.1944fe6a.js";import{Q as pr}from"./QBtnDropdown.85d83107.js";import{Q as Ct,a as Xt}from"./QItem.0aec7174.js";import{C as Nt}from"./ClosePopup.ae57d685.js";import"./QBadge.03487040.js";import"./QMenu.11f4452f.js";import"./selection.9ec04c91.js";var mr=Ke({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(o,{slots:t,emit:e}){const{proxy:{$q:r}}=Xe(),n=Qe(Je,()=>{console.error("QFooter needs to be child of QLayout")}),i=Et(parseInt(o.heightHint,10)),a=Et(!0),s=Et($e.value===!0||n.isContainer.value===!0?0:window.innerHeight),l=dt(()=>o.reveal===!0||n.view.value.indexOf("F")>-1||r.platform.is.ios&&n.isContainer.value===!0),c=dt(()=>n.isContainer.value===!0?n.containerHeight.value:s.value),f=dt(()=>{if(o.modelValue!==!0)return 0;if(l.value===!0)return a.value===!0?i.value:0;const d=n.scroll.value.position+c.value+i.value-n.height.value;return d>0?d:0}),h=dt(()=>o.modelValue!==!0||l.value===!0&&a.value!==!0),b=dt(()=>o.modelValue===!0&&h.value===!0&&o.reveal===!0),x=dt(()=>"q-footer q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-bottom"+(o.bordered===!0?" q-footer--bordered":"")+(h.value===!0?" q-footer--hidden":"")+(o.modelValue!==!0?" q-layout--prevent-focus"+(l.value!==!0?" hidden":""):"")),E=dt(()=>{const d=n.rows.value.bottom,p={};return d[0]==="l"&&n.left.space===!0&&(p[r.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),d[2]==="r"&&n.right.space===!0&&(p[r.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),p});function P(d,p){n.update("footer",d,p)}function R(d,p){d.value!==p&&(d.value=p)}function m({height:d}){R(i,d),P("size",d)}function v(){if(o.reveal!==!0)return;const{direction:d,position:p,inflectionPoint:y}=n.scroll.value;R(a,d==="up"||p-y<100||n.height.value-c.value-p-i.value<300)}function A(d){b.value===!0&&R(a,!0),e("focusin",d)}yt(()=>o.modelValue,d=>{P("space",d),R(a,!0),n.animate()}),yt(f,d=>{P("offset",d)}),yt(()=>o.reveal,d=>{d===!1&&R(a,o.modelValue)}),yt(a,d=>{n.animate(),e("reveal",d)}),yt([i,n.scroll,n.height],v),yt(()=>r.screen.height,d=>{n.isContainer.value!==!0&&R(s,d)});const g={};return n.instances.footer=g,o.modelValue===!0&&P("size",i.value),P("space",o.modelValue),P("offset",f.value),Ve(()=>{n.instances.footer===g&&(n.instances.footer=void 0,P("size",0),P("offset",0),P("space",!1))}),()=>{const d=Ze(t.default,[Zt(lr,{debounce:0,onResize:m})]);return o.elevated===!0&&d.push(Zt("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),Zt("footer",{class:x.value,style:E.value,onFocusin:A},d)}}});const vr=ut("Acceso"),br=ut("Sign in"),wr=ut("Acceso Backend"),yr=ut("Zona administrativa"),Cr=ut("Backend"),xr=ut("Sign out"),Ar=ut("Cerrar sesi\xF3n"),_r=re({__name:"NavSign",setup(o){const{handleSignOut:t}=ge(),{user:e}=We(ge());return(r,n)=>(ct(),kt(Ut,null,[S(gt,{header:""},{default:I(()=>[vr]),_:1}),jt(e)?(ct(),kt(Ut,{key:1},[Mt((ct(),Rt(Xt,{to:{name:"HomeAdmin"},clickable:"",tabindex:"0"},{default:I(()=>[S(Ct,{avatar:""},{default:I(()=>[S(Ft,{icon:"login",color:"secondary","text-color":"white"})]),_:1}),S(Ct,null,{default:I(()=>[S(gt,null,{default:I(()=>[yr]),_:1}),S(gt,{caption:""},{default:I(()=>[Cr]),_:1})]),_:1})]),_:1})),[[Nt]]),Mt((ct(),Rt(Xt,{onClick:jt(t),clickable:"",tabindex:"0"},{default:I(()=>[S(Ct,{avatar:""},{default:I(()=>[S(Ft,{icon:"logout",color:"negative","text-color":"white"})]),_:1}),S(Ct,null,{default:I(()=>[S(gt,null,{default:I(()=>[xr]),_:1}),S(gt,{caption:""},{default:I(()=>[Ar]),_:1})]),_:1})]),_:1},8,["onClick"])),[[Nt]])],64)):Mt((ct(),Rt(Xt,{key:0,exact:"",to:{name:"SignIn"},clickable:"",tabindex:"0"},{default:I(()=>[S(Ct,{avatar:""},{default:I(()=>[S(Ft,{icon:"login",color:"secondary","text-color":"white"})]),_:1}),S(Ct,null,{default:I(()=>[S(gt,null,{default:I(()=>[br]),_:1}),S(gt,{caption:""},{default:I(()=>[wr]),_:1})]),_:1})]),_:1})),[[Nt]])],64))}});var ke="data:image/png;base64,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";function Qt(o){return o===""?o:o==="true"||o=="1"}function Br(o,t){return new Promise((e,r)=>{var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var i=new FileReader;i.onloadend=function(){e(i.result)},i.readAsArrayBuffer(n.response)},n.open("GET",o),n.send()})}function nt(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function be(o,t){for(var e="",r=0,n=-1,i=0,a,s=0;s<=o.length;++s){if(s<o.length)a=o.charCodeAt(s);else{if(a===47)break;a=47}if(a===47){if(!(n===s-1||i===1))if(n!==s-1&&i===2){if(e.length<2||r!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){var l=e.lastIndexOf("/");if(l!==e.length-1){l===-1?(e="",r=0):(e=e.slice(0,l),r=e.length-1-e.lastIndexOf("/")),n=s,i=0;continue}}else if(e.length===2||e.length===1){e="",r=0,n=s,i=0;continue}}t&&(e.length>0?e+="/..":e="..",r=2)}else e.length>0?e+="/"+o.slice(n+1,s):e=o.slice(n+1,s),r=s-n-1;n=s,i=0}else a===46&&i!==-1?++i:i=-1}return e}function Pr(o,t){var e=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return e?e===t.root?e+r:e+o+r:r}var bt={resolve:function(){for(var t="",e=!1,r,n=arguments.length-1;n>=-1&&!e;n--){var i;n>=0?i=arguments[n]:(r===void 0&&(r=process.cwd()),i=r),nt(i),i.length!==0&&(t=i+"/"+t,e=i.charCodeAt(0)===47)}return t=be(t,!e),e?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(nt(t),t.length===0)return".";var e=t.charCodeAt(0)===47,r=t.charCodeAt(t.length-1)===47;return t=be(t,!e),t.length===0&&!e&&(t="."),t.length>0&&r&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return nt(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];nt(r),r.length>0&&(t===void 0?t=r:t+="/"+r)}return t===void 0?".":bt.normalize(t)},relative:function(t,e){if(nt(t),nt(e),t===e||(t=bt.resolve(t),e=bt.resolve(e),t===e))return"";for(var r=1;r<t.length&&t.charCodeAt(r)===47;++r);for(var n=t.length,i=n-r,a=1;a<e.length&&e.charCodeAt(a)===47;++a);for(var s=e.length,l=s-a,c=i<l?i:l,f=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(e.charCodeAt(a+h)===47)return e.slice(a+h+1);if(h===0)return e.slice(a+h)}else i>c&&(t.charCodeAt(r+h)===47?f=h:h===0&&(f=0));break}var b=t.charCodeAt(r+h),x=e.charCodeAt(a+h);if(b!==x)break;b===47&&(f=h)}var E="";for(h=r+f+1;h<=n;++h)(h===n||t.charCodeAt(h)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+e.slice(a+f):(a+=f,e.charCodeAt(a)===47&&++a,e.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(nt(t),t.length===0)return".";for(var e=t.charCodeAt(0),r=e===47,n=-1,i=!0,a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":".":r&&n===1?"//":t.slice(0,n)},basename:function(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');nt(t);var r=0,n=-1,i=!0,a;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,l=-1;for(a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(c===47){if(!i){r=a+1;break}}else l===-1&&(i=!1,l=a+1),s>=0&&(c===e.charCodeAt(s)?--s===-1&&(n=a):(s=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!i){r=a+1;break}}else n===-1&&(i=!1,n=a+1);return n===-1?"":t.slice(r,n)}},extname:function(t){nt(t);for(var e=-1,r=0,n=-1,i=!0,a=0,s=t.length-1;s>=0;--s){var l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}continue}n===-1&&(i=!1,n=s+1),l===46?e===-1?e=s:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||n===-1||a===0||a===1&&e===n-1&&e===r+1?"":t.slice(e,n)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return Pr("/",t)},parse:function(t){nt(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;var r=t.charCodeAt(0),n=r===47,i;n?(e.root="/",i=1):i=0;for(var a=-1,s=0,l=-1,c=!0,f=t.length-1,h=0;f>=i;--f){if(r=t.charCodeAt(f),r===47){if(!c){s=f+1;break}continue}l===-1&&(c=!1,l=f+1),r===46?a===-1?a=f:h!==1&&(h=1):a!==-1&&(h=-1)}return a===-1||l===-1||h===0||h===1&&a===l-1&&a===s+1?l!==-1&&(s===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(s,l)):(s===0&&n?(e.name=t.slice(1,a),e.base=t.slice(1,l)):(e.name=t.slice(s,a),e.base=t.slice(s,l)),e.ext=t.slice(a,l)),s>0?e.dir=t.slice(0,s-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};bt.posix=bt;const Er=bt.extname,Se=bt.basename;class kr{constructor(){let t=(()=>typeof global=="undefined")(),e="image/png",r="image/jpeg",n="image/jpeg",i="image/webp",a="application/pdf",s="image/svg+xml";Object.assign(this,{toMime:this.toMime.bind(this),fromMime:this.fromMime.bind(this),expected:t?'"png", "jpg", or "webp"':'"png", "jpg", "pdf", or "svg"',formats:t?{png:e,jpg:r,jpeg:n,webp:i}:{png:e,jpg:r,jpeg:n,pdf:a,svg:s},mimes:t?{[e]:"png",[r]:"jpg",[i]:"webp"}:{[e]:"png",[r]:"jpg",[a]:"pdf",[s]:"svg"}})}toMime(t){return this.formats[(t||"").replace(/^\./,"").toLowerCase()]}fromMime(t){return this.mimes[t]}}function Sr(o,{filename:t="",extension:e="",format:P,page:n,quality:i,matte:a,density:s,outline:l,archive:x}={}){var{fromMime:f,toMime:h,expected:b}=new kr,x=x||"canvas",E=P||e.replace(/@\d+x$/i,"")||Er(t),P=f(h(E)||E),R=h(P),m=o.length;if(!E)throw new Error("Cannot determine image format (use a filename extension or 'format' argument)");if(!P)throw new Error(`Unsupported file format "${E}" (expected ${b})`);if(!m)throw new RangeError("Canvas has no associated contexts (try calling getContext or newPage first)");let v,A,g=t.replace(/{(\d*)}/g,(p,y)=>(A=!0,y=parseInt(y,10),v=isFinite(y)?y:isFinite(v)?v:-1,"{}")),d=n>0?n-1:n<0?m+n:void 0;if(isFinite(d)&&d<0||d>=m)throw new RangeError(m==1?`Canvas only has a \u2018page 1\u2019 (${d} is out of bounds)`:`Canvas has pages 1\u2013${m} (${d} is out of bounds)`);if(o=isFinite(d)?[o[d]]:A||P=="pdf"?o:o.slice(-1),i===void 0)i=.92;else if(typeof i!="number"||!isFinite(i)||i<0||i>1)throw new TypeError("The quality option must be an number in the 0.0\u20131.0 range");if(s===void 0){let p=(e||Se(t,E)).match(/@(\d+)x$/i);s=p?parseInt(p[1],10):1}else if(typeof s!="number"||!Number.isInteger(s)||s<1)throw new TypeError("The density option must be a non-negative integer");return l===void 0?l=!0:P=="svg"&&(l=!!l),{filename:t,pattern:g,format:P,mime:R,pages:o,padding:v,quality:i,matte:a,density:s,outline:l,archive:x}}class zt{static for(t){return new zt().append(t).get()}constructor(){this.crc=-1}get(){return~this.crc}append(t){for(var e=this.crc|0,r=this.table,n=0,i=t.length|0;n<i;n++)e=e>>>8^r[(e^t[n])&255];return this.crc=e,this}}zt.prototype.table=(()=>{var o,t,e,r=[];for(o=0;o<256;o++){for(e=o,t=0;t<8;t++)e=e&1?e>>>1^3988292384:e>>>1;r[o]=e}return r})();function Jt(o){let t=new Uint8Array(o),e=new DataView(t.buffer),r={array:t,view:e,size:o,set8(n,i){return e.setUint8(n,i),r},set16(n,i){return e.setUint16(n,i,!0),r},set32(n,i){return e.setUint32(n,i,!0),r},bytes(n,i){return t.set(i,n),r}};return r}class Gt{constructor(t){let e=new Date;Object.assign(this,{directory:t,offset:0,files:[],time:(e.getHours()<<6|e.getMinutes())<<5|e.getSeconds()/2,date:(e.getFullYear()-1980<<4|e.getMonth()+1)<<5|e.getDate()}),this.add(t)}async add(t,e){let r=!e,n=Gt.encoder.encode(`${this.directory}/${r?"":t}`),i=new Uint8Array(r?0:await e.arrayBuffer()),a=30+n.length,s=a+i.length,l=16,{offset:c}=this,f=Jt(26).set32(0,134742036).set16(6,this.time).set16(8,this.date).set32(10,zt.for(i)).set32(14,i.length).set32(18,i.length).set16(22,n.length);c+=a;let h=Jt(a+i.length+l).set32(0,67324752).bytes(4,f.array).bytes(30,n).bytes(a,i);c+=i.length,h.set32(s,134695760).bytes(s+4,f.array.slice(10,22)),c+=l,this.files.push({offset:c,folder:r,name:n,header:f,payload:h}),this.offset=c}toBuffer(){let t=this.files.reduce((h,{name:b})=>46+b.length+h,0),e=Jt(t+22),r=0;for(var{offset:n,name:i,header:a,folder:s}of this.files)e.set32(r,33639248).set16(r+4,20).bytes(r+6,a.array).set8(r+38,s?16:0).set32(r+42,n).bytes(r+46,i),r+=46+i.length;e.set32(r,101010256).set16(r+8,this.files.length).set16(r+10,this.files.length).set32(r+12,t).set32(r+16,this.offset);let l=new Uint8Array(this.offset+e.size),c=0;for(var{payload:f}of this.files)l.set(f.array,c),c+=f.size;return l.set(e.array,c),l}get blob(){return new Blob([this.toBuffer()],{type:"application/zip"})}}Gt.encoder=new TextEncoder;const ie=(o,t,e,r)=>{if(r){let{width:n,height:i}=o,a=Object.assign(document.createElement("canvas"),{width:n,height:i}),s=a.getContext("2d");s.fillStyle=r,s.fillRect(0,0,n,i),s.drawImage(o,0,0),o=a}return new Promise((n,i)=>o.toBlob(n,t,e))},Dr=(...o)=>ie(...o).then(t=>t.arrayBuffer()),Tr=async(o,t,e,r,n)=>{De(n,await ie(o,t,e,r))},Ir=async(o,t,e,r,n,i,a)=>{let s=f=>i.replace("{}",String(f+1).padStart(a,"0")),l=Se(n,".zip")||"archive",c=new Gt(l);await Promise.all(o.map(async(f,h)=>{let b=s(h);await c.add(b,await ie(f,t,e,r))})),De(`${l}.zip`,c.blob)},De=(o,t)=>{const e=window.URL.createObjectURL(t),r=document.createElement("a");r.style.display="none",r.href=e,r.setAttribute("download",o),typeof r.download=="undefined"&&r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>window.URL.revokeObjectURL(e),100)},Lr=(o,t,e)=>o.map(r=>{if(t==1&&!e)return r.canvas;let n=document.createElement("canvas"),i=n.getContext("2d"),a=r.canvas?r.canvas:r;return n.width=a.width*t,n.height=a.height*t,e&&(i.fillStyle=e,i.fillRect(0,0,n.width,n.height)),i.scale(t,t),i.drawImage(a,0,0),n}),Mr={asBuffer:Dr,asDownload:Tr,asZipDownload:Ir,atScale:Lr,options:Sr},{asBuffer:Wt,asDownload:Rr,asZipDownload:Fr,atScale:Yt,options:qt}=Mr,we=Symbol.for("toDataURL"),Or=o=>new Promise((t,e)=>Object.assign(new Te,{crossOrigin:"Anonymous",onload:t,onerror:e,src:o}));class Nr{constructor(t,e){let r=document.createElement("canvas"),n=[];Object.defineProperty(r,"async",{value:!0,writable:!1,enumerable:!0});for(var[i,a]of Object.entries({png:()=>Wt(r,"image/png"),jpg:()=>Wt(r,"image/jpeg"),pages:()=>n.concat(r).map(s=>s.getContext("2d"))}))Object.defineProperty(r,i,{get:a});return Object.assign(r,{width:t,height:e,newPage(...s){var{width:c,height:f}=r,l=Object.assign(document.createElement("canvas"),{width:c,height:f});l.getContext("2d").drawImage(r,0,0),n.push(l);var[c,f]=s.length?s:[c,f];return Object.assign(r,{width:c,height:f}).getContext("2d")},saveAs(s,l){l=typeof l=="number"?{quality:l}:l;let c=qt(this.pages,{filename:s,...l}),{pattern:f,padding:h,mime:b,quality:x,matte:E,density:P,archive:R}=c,m=Yt(c.pages,P);return h==null?Rr(m[0],b,x,E,s):Fr(m,b,x,E,R,f,h)},toBuffer(s="png",l={}){l=typeof l=="number"?{quality:l}:l;let c=qt(this.pages,{extension:s,...l}),{mime:f,quality:h,matte:b,pages:x,density:E}=c,P=Yt(x,E,b)[0];return Wt(P,f,h,b)},[we]:r.toDataURL.bind(r),toDataURL(s="png",l={}){l=typeof l=="number"?{quality:l}:l;let c=qt(this.pages,{extension:s,...l}),{mime:f,quality:h,matte:b,pages:x,density:E}=c,P=Yt(x,E,b)[0],R=P[P===r?we:"toDataURL"](f,h);return Promise.resolve(R)}})}}const{CanvasRenderingContext2D:jr,CanvasGradient:Ur,CanvasPattern:zr,Image:Te,ImageData:Gr,Path2D:Hr,DOMMatrix:Kr,DOMRect:$r,DOMPoint:Vr}=window,Zr={Canvas:Nr,loadImage:Or,CanvasRenderingContext2D:jr,CanvasGradient:Ur,CanvasPattern:zr,Image:Te,ImageData:Gr,Path2D:Hr,DOMMatrix:Kr,DOMRect:$r,DOMPoint:Vr},Pt=(o,t,e={},r=e)=>{if(Array.isArray(t))t.forEach(n=>Pt(o,n,e,r));else if(typeof t=="function")t(o,e,r,Pt);else{const n=Object.keys(t)[0];Array.isArray(t[n])?(r[n]={},Pt(o,t[n],e,r[n])):r[n]=t[n](o,e,r,Pt)}return e},wt=(o,t)=>(e,r,n,i)=>{t(e,r,n)&&i(e,o,r,n)},Xr=(o,t)=>(e,r,n,i)=>{const a=[];let s=e.pos;for(;t(e,r,n);){const l={};if(i(e,o,r,l),e.pos===s)break;s=e.pos,a.push(l)}return a},Qr=o=>({data:o,pos:0}),q=()=>o=>o.data[o.pos++],Ie=(o=0)=>t=>t.data[t.pos+o],it=o=>t=>t.data.subarray(t.pos,t.pos+=o),Ht=o=>t=>t.data.subarray(t.pos,t.pos+o),te=o=>t=>Array.from(it(o)(t)).map(e=>String.fromCharCode(e)).join(""),vt=o=>t=>{const e=it(2)(t);return o?(e[1]<<8)+e[0]:(e[0]<<8)+e[1]},Le=(o,t)=>(e,r,n)=>{const i=typeof t=="function"?t(e,r,n):t,a=it(o),s=new Array(i);for(var l=0;l<i;l++)s[l]=a(e);return s},Jr=(o,t,e)=>{for(var r=0,n=0;n<e;n++)r+=o[t+n]&&2**(e-n-1);return r},ae=o=>t=>{const e=q()(t),r=new Array(8);for(var n=0;n<8;n++)r[7-n]=!!(e&1<<n);return Object.keys(o).reduce((i,a)=>{const s=o[a];return s.length?i[a]=Jr(r,s.index,s.length):i[a]=r[s.index],i},{})};var Kt={blocks:o=>{const e=[],r=o.data.length;for(var n=0,i=q()(o);i!==0&&i;i=q()(o)){if(o.pos+i>=r){const c=r-o.pos;e.push(it(c)(o)),n+=c;break}e.push(it(i)(o)),n+=i}const a=new Uint8Array(n);for(var s=0,l=0;l<e.length;l++)a.set(e[l],s),s+=e[l].length;return a}};const Wr=wt({gce:[{codes:it(2)},{byteSize:q()},{extras:ae({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:vt(!0)},{transparentColorIndex:q()},{terminator:q()}]},o=>{var t=Ht(2)(o);return t[0]===33&&t[1]===249}),Yr=wt({image:[{code:q()},{descriptor:[{left:vt(!0)},{top:vt(!0)},{width:vt(!0)},{height:vt(!0)},{lct:ae({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},wt({lct:Le(3,(o,t,e)=>Math.pow(2,e.descriptor.lct.size+1))},(o,t,e)=>e.descriptor.lct.exists),{data:[{minCodeSize:q()},Kt]}]},o=>Ie()(o)===44),qr=wt({text:[{codes:it(2)},{blockSize:q()},{preData:(o,t,e)=>it(e.text.blockSize)(o)},Kt]},o=>{var t=Ht(2)(o);return t[0]===33&&t[1]===1}),tn=wt({application:[{codes:it(2)},{blockSize:q()},{id:(o,t,e)=>te(e.blockSize)(o)},Kt]},o=>{var t=Ht(2)(o);return t[0]===33&&t[1]===255}),en=wt({comment:[{codes:it(2)},Kt]},o=>{var t=Ht(2)(o);return t[0]===33&&t[1]===254}),rn=[{header:[{signature:te(3)},{version:te(3)}]},{lsd:[{width:vt(!0)},{height:vt(!0)},{gct:ae({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:q()},{pixelAspectRatio:q()}]},wt({gct:Le(3,(o,t)=>Math.pow(2,t.lsd.gct.size+1))},(o,t)=>t.lsd.gct.exists),{frames:Xr([Wr,tn,en,Yr,qr],o=>{var t=Ie()(o);return t===33||t===44})}],nn=(o,t)=>{const e=new Array(o.length),r=o.length/t,n=function(f,h){const b=o.slice(h*t,(h+1)*t);e.splice.apply(e,[f*t,t].concat(b))},i=[0,4,2,1],a=[8,8,4,2];for(var s=0,l=0;l<4;l++)for(var c=i[l];c<r;c+=a[l])n(c,s),s++;return e},on=(o,t,e)=>{const i=e;var a,s,l,c,f,h,b,d,x,E,g,P,p,y,D,_;const R=new Array(e),m=new Array(4096),v=new Array(4096),A=new Array(4096+1);for(P=o,s=1<<P,f=s+1,a=s+2,b=-1,c=P+1,l=(1<<c)-1,x=0;x<s;x++)m[x]=0,v[x]=x;var g,d,p,y,_,D;for(g=d=p=y=_=D=0,E=0;E<i;){if(y===0){if(d<c){g+=t[D]<<d,d+=8,D++;continue}if(x=g&l,g>>=c,d-=c,x>a||x==f)break;if(x==s){c=P+1,l=(1<<c)-1,a=s+2,b=-1;continue}if(b==-1){A[y++]=v[x],b=x,p=x;continue}for(h=x,x==a&&(A[y++]=p,x=b);x>s;)A[y++]=v[x],x=m[x];p=v[x]&255,A[y++]=p,a<4096&&(m[a]=b,v[a]=p,a++,(a&l)===0&&a<4096&&(c++,l+=a)),b=h}y--,R[_++]=A[y],E++}for(E=_;E<i;E++)R[E]=0;return R},an=o=>{const t=new Uint8Array(o);return Pt(Qr(t),rn)},sn=o=>{const t=o.pixels.length,e=new Uint8ClampedArray(t*4);for(var r=0;r<t;r++){const n=r*4,i=o.pixels[r],a=o.colorTable[i];e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=i!==o.transparentIndex?255:0}return e},ln=(o,t,e)=>{if(!o.image){console.warn("gif frame does not have associated image.");return}const{image:r}=o,n=r.descriptor.width*r.descriptor.height;var i=on(r.data.minCodeSize,r.data.blocks,n);r.descriptor.lct.interlaced&&(i=nn(i,r.descriptor.width));const a={pixels:i,dims:{top:o.image.descriptor.top,left:o.image.descriptor.left,width:o.image.descriptor.width,height:o.image.descriptor.height}};return r.descriptor.lct&&r.descriptor.lct.exists?a.colorTable=r.lct:a.colorTable=t,o.gce&&(a.delay=(o.gce.delay||10)*10,a.disposalType=o.gce.extras.disposal,o.gce.extras.transparentColorGiven&&(a.transparentIndex=o.gce.transparentColorIndex)),e&&(a.patch=sn(a)),a},cn=(o,t)=>o.frames.filter(e=>e.image).map(e=>ln(e,o.gct,t));function un(o,t,e){const r=Me(t),n=o-1;let i=0;switch(e){case Q.L:i=ot[n][0];break;case Q.M:i=ot[n][1];break;case Q.Q:i=ot[n][2];break;case Q.H:i=ot[n][3];break}return r<=i}function fn(o,t){for(var e=1,r=Me(o),n=0,i=ot.length;n<i;n++){var a=0;switch(t){case Q.L:a=ot[n][0];break;case Q.M:a=ot[n][1];break;case Q.Q:a=ot[n][2];break;case Q.H:a=ot[n][3];break}if(r<=a)break;e++}if(e>ot.length)throw new Error("Too long data");return e}function Me(o){var t=encodeURI(o).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=Number(o)?3:0)}class hn{constructor(t){this.mode=W.MODE_8BIT_BYTE,this.parsedData=[],this.data=t;const e=[];for(let r=0,n=this.data.length;r<n;r++){const i=[],a=this.data.charCodeAt(r);a>65536?(i[0]=240|(a&1835008)>>>18,i[1]=128|(a&258048)>>>12,i[2]=128|(a&4032)>>>6,i[3]=128|a&63):a>2048?(i[0]=224|(a&61440)>>>12,i[1]=128|(a&4032)>>>6,i[2]=128|a&63):a>128?(i[0]=192|(a&1984)>>>6,i[1]=128|a&63):i[0]=a,e.push(i)}this.parsedData=Array.prototype.concat.apply([],e),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}getLength(){return this.parsedData.length}write(t){for(let e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}}class pt{constructor(t=-1,e=Q.L){this.moduleCount=0,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=e,this.moduleCount=0,this.dataList=[]}addData(t){if(this.typeNumber<=0)this.typeNumber=fn(t,this.errorCorrectLevel);else{if(this.typeNumber>40)throw new Error(`Invalid QR version: ${this.typeNumber}`);if(!un(this.typeNumber,t,this.errorCorrectLevel))throw new Error(`Data is too long for QR version: ${this.typeNumber}`)}const e=new hn(t);this.dataList.push(e),this.dataCache=void 0}isDark(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(`${t},${e}`);return this.modules[t][e]}getModuleCount(){return this.moduleCount}make(){this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(let n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=pt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}setupPositionProbePattern(t,e){for(let r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(let n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)}getBestMaskPattern(){if(Number.isInteger(this.maskPattern)&&Object.values(st).includes(this.maskPattern))return this.maskPattern;let t=0,e=0;for(let r=0;r<8;r++){this.makeImpl(!0,r);const n=F.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){const t=F.getPatternPosition(this.typeNumber);for(let e=0;e<t.length;e++)for(let r=0;r<t.length;r++){const n=t[e],i=t[r];if(this.modules[n][i]==null)for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a==-2||a==2||s==-2||s==2||a==0&&s==0?this.modules[n+a][i+s]=!0:this.modules[n+a][i+s]=!1}}setupTypeNumber(t){const e=F.getBCHTypeNumber(this.typeNumber);for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}}setupTypeInfo(t,e){const r=this.errorCorrectLevel<<3|e,n=F.getBCHTypeInfo(r);for(var i=0;i<15;i++){var a=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(var i=0;i<15;i++){var a=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!t}mapData(t,e){let r=-1,n=this.moduleCount-1,i=7,a=0;for(let s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(let l=0;l<2;l++)if(this.modules[n][s-l]==null){let c=!1;a<t.length&&(c=(t[a]>>>i&1)==1),F.getMask(e,n,s-l)&&(c=!c),this.modules[n][s-l]=c,i--,i==-1&&(a++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}static createData(t,e,r){const n=lt.getRSBlocks(t,e),i=new dn;for(var a=0;a<r.length;a++){const l=r[a];i.put(l.mode,4),i.put(l.getLength(),F.getLengthInBits(l.mode,t)),l.write(i)}let s=0;for(var a=0;a<n.length;a++)s+=n[a].dataCount;if(i.getLengthInBits()>s*8)throw new Error(`code length overflow. (${i.getLengthInBits()}>${s*8})`);for(i.getLengthInBits()+4<=s*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=s*8||(i.put(pt.PAD0,8),i.getLengthInBits()>=s*8));)i.put(pt.PAD1,8);return pt.createBytes(i,n)}static createBytes(t,e){let r=0,n=0,i=0;const a=new Array(e.length),s=new Array(e.length);for(var l=0;l<e.length;l++){const x=e[l].dataCount,E=e[l].totalCount-x;n=Math.max(n,x),i=Math.max(i,E),a[l]=new Array(x);for(var c=0;c<a[l].length;c++)a[l][c]=255&t.buffer[c+r];r+=x;const P=F.getErrorCorrectPolynomial(E),m=new At(a[l],P.getLength()-1).mod(P);s[l]=new Array(P.getLength()-1);for(var c=0;c<s[l].length;c++){const A=c+m.getLength()-s[l].length;s[l][c]=A>=0?m.get(A):0}}let f=0;for(var c=0;c<e.length;c++)f+=e[c].totalCount;const h=new Array(f);let b=0;for(var c=0;c<n;c++)for(var l=0;l<e.length;l++)c<a[l].length&&(h[b++]=a[l][c]);for(var c=0;c<i;c++)for(var l=0;l<e.length;l++)c<s[l].length&&(h[b++]=s[l][c]);return h}}pt.PAD0=236;pt.PAD1=17;const Q={L:1,M:0,Q:3,H:2},W={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},st={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};class F{static getBCHTypeInfo(t){let e=t<<10;for(;F.getBCHDigit(e)-F.getBCHDigit(F.G15)>=0;)e^=F.G15<<F.getBCHDigit(e)-F.getBCHDigit(F.G15);return(t<<10|e)^F.G15_MASK}static getBCHTypeNumber(t){let e=t<<12;for(;F.getBCHDigit(e)-F.getBCHDigit(F.G18)>=0;)e^=F.G18<<F.getBCHDigit(e)-F.getBCHDigit(F.G18);return t<<12|e}static getBCHDigit(t){let e=0;for(;t!=0;)e++,t>>>=1;return e}static getPatternPosition(t){return F.PATTERN_POSITION_TABLE[t-1]}static getMask(t,e,r){switch(t){case st.PATTERN000:return(e+r)%2==0;case st.PATTERN001:return e%2==0;case st.PATTERN010:return r%3==0;case st.PATTERN011:return(e+r)%3==0;case st.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case st.PATTERN101:return e*r%2+e*r%3==0;case st.PATTERN110:return(e*r%2+e*r%3)%2==0;case st.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error(`bad maskPattern:${t}`)}}static getErrorCorrectPolynomial(t){let e=new At([1],0);for(let r=0;r<t;r++)e=e.multiply(new At([1,K.gexp(r)],0));return e}static getLengthInBits(t,e){if(1<=e&&e<10)switch(t){case W.MODE_NUMBER:return 10;case W.MODE_ALPHA_NUM:return 9;case W.MODE_8BIT_BYTE:return 8;case W.MODE_KANJI:return 8;default:throw new Error(`mode:${t}`)}else if(e<27)switch(t){case W.MODE_NUMBER:return 12;case W.MODE_ALPHA_NUM:return 11;case W.MODE_8BIT_BYTE:return 16;case W.MODE_KANJI:return 10;default:throw new Error(`mode:${t}`)}else if(e<41)switch(t){case W.MODE_NUMBER:return 14;case W.MODE_ALPHA_NUM:return 13;case W.MODE_8BIT_BYTE:return 16;case W.MODE_KANJI:return 12;default:throw new Error(`mode:${t}`)}else throw new Error(`type:${e}`)}static getLostPoint(t){const e=t.getModuleCount();let r=0;for(var n=0;n<e;n++)for(var i=0;i<e;i++){let l=0;const c=t.isDark(n,i);for(let f=-1;f<=1;f++)if(!(n+f<0||e<=n+f))for(let h=-1;h<=1;h++)i+h<0||e<=i+h||f==0&&h==0||c==t.isDark(n+f,i+h)&&l++;l>5&&(r+=3+l-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){let f=0;t.isDark(n,i)&&f++,t.isDark(n+1,i)&&f++,t.isDark(n,i+1)&&f++,t.isDark(n+1,i+1)&&f++,(f==0||f==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);let a=0;for(var i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&a++;return r+=Math.abs(100*a/e/e-50)/5*10,r}}F.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]];F.G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0;F.G18=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0;F.G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1;class K{static glog(t){if(t<1)throw new Error(`glog(${t})`);return K.LOG_TABLE[t]}static gexp(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return K.EXP_TABLE[t]}}K.EXP_TABLE=new Array(256);K.LOG_TABLE=new Array(256);K._constructor=function(){for(var o=0;o<8;o++)K.EXP_TABLE[o]=1<<o;for(var o=8;o<256;o++)K.EXP_TABLE[o]=K.EXP_TABLE[o-4]^K.EXP_TABLE[o-5]^K.EXP_TABLE[o-6]^K.EXP_TABLE[o-8];for(var o=0;o<255;o++)K.LOG_TABLE[K.EXP_TABLE[o]]=o}();class At{constructor(t,e){if(t.length==null)throw new Error(`${t.length}/${e}`);let r=0;for(;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(let n=0;n<t.length-r;n++)this.num[n]=t[n+r]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){const e=new Array(this.getLength()+t.getLength()-1);for(let r=0;r<this.getLength();r++)for(let n=0;n<t.getLength();n++)e[r+n]^=K.gexp(K.glog(this.get(r))+K.glog(t.get(n)));return new At(e,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;const e=K.glog(this.get(0))-K.glog(t.get(0)),r=new Array(this.getLength());for(var n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=K.gexp(K.glog(t.get(n))+e);return new At(r,0).mod(t)}}class lt{constructor(t,e){this.totalCount=t,this.dataCount=e}static getRSBlocks(t,e){const r=lt.getRsBlockTable(t,e);if(r==null)throw new Error(`bad rs block @ typeNumber:${t}/errorCorrectLevel:${e}`);const n=r.length/3,i=[];for(let a=0;a<n;a++){const s=r[a*3+0],l=r[a*3+1],c=r[a*3+2];for(let f=0;f<s;f++)i.push(new lt(l,c))}return i}static getRsBlockTable(t,e){switch(e){case Q.L:return lt.RS_BLOCK_TABLE[(t-1)*4+0];case Q.M:return lt.RS_BLOCK_TABLE[(t-1)*4+1];case Q.Q:return lt.RS_BLOCK_TABLE[(t-1)*4+2];case Q.H:return lt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}}}lt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];class dn{constructor(){this.buffer=[],this.length=0}get(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1}put(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)}getLengthInBits(){return this.length}putBit(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}const ot=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];var gn=100,Z=256,ye=Z-1,ht=4,Re=16,se=1<<Re,Fe=10,le=10,pn=se>>le,mn=se<<Fe-le,vn=Z>>3,ee=6,bn=1<<ee,wn=vn*bn,yn=30,Oe=10,Dt=1<<Oe,Ne=8,Ce=1<<Ne,Cn=Oe+Ne,xt=1<<Cn,xe=499,Ae=491,_e=487,je=503,xn=3*je;function An(o,t){var e,r,n,i,a;function s(){e=[],r=new Int32Array(256),n=new Int32Array(Z),i=new Int32Array(Z),a=new Int32Array(Z>>3);var m,v;for(m=0;m<Z;m++)v=(m<<ht+8)/Z,e[m]=new Float64Array([v,v,v,0]),i[m]=se/Z,n[m]=0}function l(){for(var m=0;m<Z;m++)e[m][0]>>=ht,e[m][1]>>=ht,e[m][2]>>=ht,e[m][3]=m}function c(m,v,A,g,d){e[v][0]-=m*(e[v][0]-A)/Dt,e[v][1]-=m*(e[v][1]-g)/Dt,e[v][2]-=m*(e[v][2]-d)/Dt}function f(m,v,A,g,d){for(var p=Math.abs(v-m),y=Math.min(v+m,Z),_=v+1,D=v-1,O=1,u,N;_<y||D>p;)N=a[O++],_<y&&(u=e[_++],u[0]-=N*(u[0]-A)/xt,u[1]-=N*(u[1]-g)/xt,u[2]-=N*(u[2]-d)/xt),D>p&&(u=e[D--],u[0]-=N*(u[0]-A)/xt,u[1]-=N*(u[1]-g)/xt,u[2]-=N*(u[2]-d)/xt)}function h(m,v,A){var g=2147483647,d=g,p=-1,y=p,_,D,O,u,N;for(_=0;_<Z;_++)D=e[_],O=Math.abs(D[0]-m)+Math.abs(D[1]-v)+Math.abs(D[2]-A),O<g&&(g=O,p=_),u=O-(n[_]>>Re-ht),u<d&&(d=u,y=_),N=i[_]>>le,i[_]-=N,n[_]+=N<<Fe;return i[p]+=pn,n[p]-=mn,y}function b(){var m,v,A,g,d,p,y=0,_=0;for(m=0;m<Z;m++){for(A=e[m],d=m,p=A[1],v=m+1;v<Z;v++)g=e[v],g[1]<p&&(d=v,p=g[1]);if(g=e[d],m!=d&&(v=g[0],g[0]=A[0],A[0]=v,v=g[1],g[1]=A[1],A[1]=v,v=g[2],g[2]=A[2],A[2]=v,v=g[3],g[3]=A[3],A[3]=v),p!=y){for(r[y]=_+m>>1,v=y+1;v<p;v++)r[v]=m;y=p,_=m}}for(r[y]=_+ye>>1,v=y+1;v<256;v++)r[v]=ye}function x(m,v,A){for(var g,d,p,y=1e3,_=-1,D=r[v],O=D-1;D<Z||O>=0;)D<Z&&(d=e[D],p=d[1]-v,p>=y?D=Z:(D++,p<0&&(p=-p),g=d[0]-m,g<0&&(g=-g),p+=g,p<y&&(g=d[2]-A,g<0&&(g=-g),p+=g,p<y&&(y=p,_=d[3])))),O>=0&&(d=e[O],p=v-d[1],p>=y?O=-1:(O--,p<0&&(p=-p),g=d[0]-m,g<0&&(g=-g),p+=g,p<y&&(g=d[2]-A,g<0&&(g=-g),p+=g,p<y&&(y=p,_=d[3]))));return _}function E(){var m,v=o.length,A=30+(t-1)/3,g=v/(3*t),d=~~(g/gn),p=Dt,y=wn,_=y>>ee;for(_<=1&&(_=0),m=0;m<_;m++)a[m]=p*((_*_-m*m)*Ce/(_*_));var D;v<xn?(t=1,D=3):v%xe!==0?D=3*xe:v%Ae!==0?D=3*Ae:v%_e!==0?D=3*_e:D=3*je;var O,u,N,C,j=0;for(m=0;m<g;)if(O=(o[j]&255)<<ht,u=(o[j+1]&255)<<ht,N=(o[j+2]&255)<<ht,C=h(O,u,N),c(p,C,O,u,N),_!==0&&f(_,C,O,u,N),j+=D,j>=v&&(j-=v),m++,d===0&&(d=1),m%d===0)for(p-=p/A,y-=y/yn,_=y>>ee,_<=1&&(_=0),C=0;C<_;C++)a[C]=p*((_*_-C*C)*Ce/(_*_))}function P(){s(),E(),l(),b()}this.buildColormap=P;function R(){for(var m=[],v=[],A=0;A<Z;A++)v[e[A][3]]=A;for(var g=0,d=0;d<Z;d++){var p=v[d];m[g++]=e[p][0],m[g++]=e[p][1],m[g++]=e[p][2]}return m}this.getColormap=R,this.lookupRGB=x}var Be=-1,Tt=12,Bt=5003,_n=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function Bn(o,t,e,r){var n=Math.max(2,r),i=new Uint8Array(256),a=new Int32Array(Bt),s=new Int32Array(Bt),l,c=0,f,h=0,b,x=!1,E,P,R,m,v,A;function g(C,j){i[f++]=C,f>=254&&D(j)}function d(C){p(Bt),h=P+2,x=!0,N(P,C)}function p(C){for(var j=0;j<C;++j)a[j]=-1}function y(C,j){var w,mt,H,tt,ft,$,et;for(E=C,x=!1,A=E,b=O(A),P=1<<C-1,R=P+1,h=P+2,f=0,tt=u(),et=0,w=Bt;w<65536;w*=2)++et;et=8-et,$=Bt,p($),N(P,j);t:for(;(mt=u())!=Be;){if(w=(mt<<Tt)+tt,H=mt<<et^tt,a[H]===w){tt=s[H];continue}else if(a[H]>=0){ft=$-H,H===0&&(ft=1);do if((H-=ft)<0&&(H+=$),a[H]===w){tt=s[H];continue t}while(a[H]>=0)}N(tt,j),tt=mt,h<1<<Tt?(s[H]=h++,a[H]=w):d(j)}N(tt,j),N(R,j)}function _(C){C.writeByte(n),m=o*t,v=0,y(n+1,C),C.writeByte(0)}function D(C){f>0&&(C.writeByte(f),C.writeBytes(i,0,f),f=0)}function O(C){return(1<<C)-1}function u(){if(m===0)return Be;--m;var C=e[v++];return C&255}function N(C,j){for(l&=_n[c],c>0?l|=C<<c:l=C,c+=A;c>=8;)g(l&255,j),l>>=8,c-=8;if((h>b||x)&&(x?(b=O(A=E),x=!1):(++A,A==Tt?b=1<<Tt:b=O(A))),C==R){for(;c>0;)g(l&255,j),l>>=8,c-=8;D(j)}}this.encode=_}function J(){this.page=-1,this.pages=[],this.newPage()}J.pageSize=4096;J.charMap={};for(var It=0;It<256;It++)J.charMap[It]=String.fromCharCode(It);J.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(J.pageSize),this.cursor=0};J.prototype.getData=function(){for(var o="",t=0;t<this.pages.length;t++)for(var e=0;e<J.pageSize;e++)o+=J.charMap[this.pages[t][e]];return o};J.prototype.toFlattenUint8Array=function(){const o=[];for(var t=0;t<this.pages.length;t++)if(t===this.pages.length-1){const r=Uint8Array.from(this.pages[t].slice(0,this.cursor));o.push(r)}else o.push(this.pages[t]);const e=new Uint8Array(o.reduce((r,n)=>r+n.length,0));return o.reduce((r,n)=>(e.set(n,r),r+n.length),0),e};J.prototype.writeByte=function(o){this.cursor>=J.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=o};J.prototype.writeUTFBytes=function(o){for(var t=o.length,e=0;e<t;e++)this.writeByte(o.charCodeAt(e))};J.prototype.writeBytes=function(o,t,e){for(var r=e||o.length,n=t||0;n<r;n++)this.writeByte(o[n])};function U(o,t){this.width=~~o,this.height=~~t,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new J}U.prototype.setDelay=function(o){this.delay=Math.round(o/10)};U.prototype.setFrameRate=function(o){this.delay=Math.round(100/o)};U.prototype.setDispose=function(o){o>=0&&(this.dispose=o)};U.prototype.setRepeat=function(o){this.repeat=o};U.prototype.setTransparent=function(o){this.transparent=o};U.prototype.addFrame=function(o){this.image=o,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),this.globalPalette===!0&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeHeader(),this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),!this.firstFrame&&!this.globalPalette&&this.writePalette(),this.writePixels(),this.firstFrame=!1};U.prototype.finish=function(){this.out.writeByte(59)};U.prototype.setQuality=function(o){o<1&&(o=1),this.sample=o};U.prototype.setDither=function(o){o===!0&&(o="FloydSteinberg"),this.dither=o};U.prototype.setGlobalPalette=function(o){this.globalPalette=o};U.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette};U.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")};U.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new An(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent,!0))};U.prototype.indexPixels=function(o){var t=this.pixels.length/3;this.indexedPixels=new Uint8Array(t);for(var e=0,r=0;r<t;r++){var n=this.findClosestRGB(this.pixels[e++]&255,this.pixels[e++]&255,this.pixels[e++]&255);this.usedEntry[n]=!0,this.indexedPixels[r]=n}};U.prototype.ditherPixels=function(o,t){var e={FalseFloydSteinberg:[[.375,1,0],[.375,0,1],[.25,1,1]],FloydSteinberg:[[.4375,1,0],[.1875,-1,1],[.3125,0,1],[.0625,1,1]],Stucki:[[.19047619047619047,1,0],[.09523809523809523,2,0],[.047619047619047616,-2,1],[.09523809523809523,-1,1],[.19047619047619047,0,1],[.09523809523809523,1,1],[.047619047619047616,2,1],[.023809523809523808,-2,2],[.047619047619047616,-1,2],[.09523809523809523,0,2],[.047619047619047616,1,2],[.023809523809523808,2,2]],Atkinson:[[.125,1,0],[.125,2,0],[.125,-1,1],[.125,0,1],[.125,1,1],[.125,0,2]]};if(!o||!e[o])throw"Unknown dithering kernel: "+o;var r=e[o],n=0,i=this.height,a=this.width,s=this.pixels,l=t?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var c=0;c<i;c++){t&&(l=l*-1);for(var f=l==1?0:a-1,h=l==1?a:0;f!==h;f+=l){n=c*a+f;var b=n*3,x=s[b],E=s[b+1],P=s[b+2];b=this.findClosestRGB(x,E,P),this.usedEntry[b]=!0,this.indexedPixels[n]=b,b*=3;for(var R=this.colorTab[b],m=this.colorTab[b+1],v=this.colorTab[b+2],A=x-R,g=E-m,d=P-v,p=l==1?0:r.length-1,y=l==1?r.length:0;p!==y;p+=l){var _=r[p][1],D=r[p][2];if(_+f>=0&&_+f<a&&D+c>=0&&D+c<i){var O=r[p][0];b=n+_+D*a,b*=3,s[b]=Math.max(0,Math.min(255,s[b]+A*O)),s[b+1]=Math.max(0,Math.min(255,s[b+1]+g*O)),s[b+2]=Math.max(0,Math.min(255,s[b+2]+d*O))}}}}};U.prototype.findClosest=function(o,t){return this.findClosestRGB((o&16711680)>>16,(o&65280)>>8,o&255,t)};U.prototype.findClosestRGB=function(o,t,e,r){if(this.colorTab===null)return-1;if(this.neuQuant&&!r)return this.neuQuant.lookupRGB(o,t,e);for(var n=0,i=256*256*256,a=this.colorTab.length,s=0,l=0;s<a;l++){var c=o-(this.colorTab[s++]&255),f=t-(this.colorTab[s++]&255),h=e-(this.colorTab[s++]&255),b=c*c+f*f+h*h;(!r||this.usedEntry[l])&&b<i&&(i=b,n=l)}return n};U.prototype.getImagePixels=function(){var o=this.width,t=this.height;this.pixels=new Uint8Array(o*t*3);for(var e=this.image,r=0,n=0,i=0;i<t;i++)for(var a=0;a<o;a++)this.pixels[n++]=e[r++],this.pixels[n++]=e[r++],this.pixels[n++]=e[r++],r++};U.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var o,t;this.transparent===null?(o=0,t=0):(o=1,t=2),this.dispose>=0&&(t=this.dispose&7),t<<=2,this.out.writeByte(0|t|0|o),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)};U.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)};U.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)};U.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)};U.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var o=3*256-this.colorTab.length,t=0;t<o;t++)this.out.writeByte(0)};U.prototype.writeShort=function(o){this.out.writeByte(o&255),this.out.writeByte(o>>8&255)};U.prototype.writePixels=function(){var o=new Bn(this.width,this.height,this.indexedPixels,this.colorDepth);o.encode(this.out)};U.prototype.stream=function(){return this.out};var Pn=globalThis&&globalThis.__awaiter||function(o,t,e,r){function n(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(f){try{c(r.next(f))}catch(h){a(h)}}function l(f){try{c(r.throw(f))}catch(h){a(h)}}function c(f){f.done?i(f.value):n(f.value).then(s,l)}c((r=r.apply(o,t||[])).next())})};const{Canvas:at}=Zr,Lt=.4;function Pe(o){if(!o)return;function t(e){e.onload=null,e.onerror=null}return new Promise(function(e,r){if(o.slice(0,4)=="data"){let i=new Image;i.onload=function(){e(i),t(i)},i.onerror=function(){r("Image load error"),t(i)},i.src=o;return}let n=new Image;n.setAttribute("crossOrigin","Anonymous"),n.onload=function(){e(n)},n.onerror=function(){r("Image load error")},n.src=o})}class M{constructor(t){const e=Object.assign({},t);if(Object.keys(M.defaultOptions).forEach(r=>{r in e||Object.defineProperty(e,r,{value:M.defaultOptions[r],enumerable:!0,writable:!0})}),e.components?typeof e.components=="object"&&Object.keys(M.defaultComponentOptions).forEach(r=>{r in e.components?Object.defineProperty(e.components,r,{value:Object.assign(Object.assign({},M.defaultComponentOptions[r]),e.components[r]),enumerable:!0,writable:!0}):Object.defineProperty(e.components,r,{value:M.defaultComponentOptions[r],enumerable:!0,writable:!0})}):e.components=M.defaultComponentOptions,e.dotScale!==null&&e.dotScale!==void 0){if(e.dotScale<=0||e.dotScale>1)throw new Error("dotScale should be in range (0, 1].");e.components.data.scale=e.dotScale,e.components.timing.scale=e.dotScale,e.components.alignment.scale=e.dotScale}this.options=e,this.canvas=new at(t.size,t.size),this.canvasContext=this.canvas.getContext("2d"),this.qrCode=new pt(-1,this.options.correctLevel),Number.isInteger(this.options.maskPattern)&&(this.qrCode.maskPattern=this.options.maskPattern),Number.isInteger(this.options.version)&&(this.qrCode.typeNumber=this.options.version),this.qrCode.addData(this.options.text),this.qrCode.make()}draw(){return new Promise(t=>this._draw().then(t))}_clear(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}static _prepareRoundedCornerClip(t,e,r,n,i,a){t.beginPath(),t.moveTo(e,r),t.arcTo(e+n,r,e+n,r+i,a),t.arcTo(e+n,r+i,e,r+i,a),t.arcTo(e,r+i,e,r,a),t.arcTo(e,r,e+n,r,a),t.closePath()}static _getAverageRGB(t){const r={r:0,g:0,b:0};let n,i,a=-4;const s={r:0,g:0,b:0};let l=0;i=t.naturalHeight||t.height,n=t.naturalWidth||t.width;const f=new at(n,i).getContext("2d");if(!f)return r;f.drawImage(t,0,0);let h;try{h=f.getImageData(0,0,n,i)}catch{return r}for(;(a+=5*4)<h.data.length;)h.data[a]>200||h.data[a+1]>200||h.data[a+2]>200||(++l,s.r+=h.data[a],s.g+=h.data[a+1],s.b+=h.data[a+2]);return s.r=~~(s.r/l),s.g=~~(s.g/l),s.b=~~(s.b/l),s}static _drawDot(t,e,r,n,i=0,a=1){t.fillRect((e+i)*n,(r+i)*n,a*n,a*n)}static _drawAlignProtector(t,e,r,n){t.clearRect((e-2)*n,(r-2)*n,5*n,5*n),t.fillRect((e-2)*n,(r-2)*n,5*n,5*n)}static _drawAlign(t,e,r,n,i=0,a=1,s,l){const c=t.fillStyle;t.fillStyle=s,new Array(4).fill(0).map((f,h)=>{M._drawDot(t,e-2+h,r-2,n,i,a),M._drawDot(t,e+2,r-2+h,n,i,a),M._drawDot(t,e+2-h,r+2,n,i,a),M._drawDot(t,e-2,r+2-h,n,i,a)}),M._drawDot(t,e,r,n,i,a),l||(t.fillStyle="rgba(255, 255, 255, 0.6)",new Array(2).fill(0).map((f,h)=>{M._drawDot(t,e-1+h,r-1,n,i,a),M._drawDot(t,e+1,r-1+h,n,i,a),M._drawDot(t,e+1-h,r+1,n,i,a),M._drawDot(t,e-1,r+1-h,n,i,a)})),t.fillStyle=c}_draw(){var t,e,r,n,i,a,s,l,c,f,h,b,x,E,P,R,m,v,A;return Pn(this,void 0,void 0,function*(){const g=(t=this.qrCode)===null||t===void 0?void 0:t.moduleCount,d=this.options.size;let p=this.options.margin;(p<0||p*2>=d)&&(p=0);const y=Math.ceil(p),_=d-2*p,D=this.options.whiteMargin,O=this.options.backgroundDimming,u=Math.ceil(_/g),N=u*g,C=N+2*y,j=new at(C,C),w=j.getContext("2d");this._clear(),w.save(),w.translate(y,y);const mt=new at(C,C),H=mt.getContext("2d");let tt=null,ft=[];if(this.options.gifBackground){const B=an(this.options.gifBackground);if(tt=B,ft=cn(B,!0),this.options.autoColor){let k=0,T=0,L=0,V=0;for(let z=0;z<ft[0].colorTable.length;z++){const G=ft[0].colorTable[z];G[0]>200||G[1]>200||G[2]>200||G[0]===0&&G[1]===0&&G[2]===0||(V++,k+=G[0],T+=G[1],L+=G[2])}k=~~(k/V),T=~~(T/V),L=~~(L/V),this.options.colorDark=`rgb(${k},${T},${L})`}}else if(this.options.backgroundImage){const B=yield Pe(this.options.backgroundImage);if(this.options.autoColor){const k=M._getAverageRGB(B);this.options.colorDark=`rgb(${k.r},${k.g},${k.b})`}H.drawImage(B,0,0,B.width,B.height,0,0,C,C),H.rect(0,0,C,C),H.fillStyle=O,H.fill()}else H.rect(0,0,C,C),H.fillStyle=this.options.colorLight,H.fill();const $=F.getPatternPosition(this.qrCode.typeNumber),et=((r=(e=this.options.components)===null||e===void 0?void 0:e.data)===null||r===void 0?void 0:r.scale)||Lt,ce=(1-et)*.5;for(let B=0;B<g;B++)for(let k=0;k<g;k++){const T=this.qrCode.isDark(B,k),L=k<8&&(B<8||B>=g-8)||k>=g-8&&B<8,V=B==6&&k>=8&&k<=g-8||k==6&&B>=8&&B<=g-8;let z=L||V;for(let X=1;X<$.length-1;X++)z=z||B>=$[X]-2&&B<=$[X]+2&&k>=$[X]-2&&k<=$[X]+2;const G=k*u+(z?0:ce*u),rt=B*u+(z?0:ce*u);if(w.strokeStyle=T?this.options.colorDark:this.options.colorLight,w.lineWidth=.5,w.fillStyle=T?this.options.colorDark:this.options.colorLight,$.length===0)z||w.fillRect(G,rt,(z?1:et)*u,(z?1:et)*u);else{const X=k<g-4&&k>=g-4-5&&B<g-4&&B>=g-4-5;!z&&!X&&w.fillRect(G,rt,(z?1:et)*u,(z?1:et)*u)}}const Y=$[$.length-1],ze=this.options.colorLight;if(w.fillStyle=ze,w.fillRect(0,0,8*u,8*u),w.fillRect(0,(g-8)*u,8*u,8*u),w.fillRect((g-8)*u,0,8*u,8*u),!((i=(n=this.options.components)===null||n===void 0?void 0:n.timing)===null||i===void 0)&&i.protectors&&(w.fillRect(8*u,6*u,(g-8-8)*u,u),w.fillRect(6*u,8*u,u,(g-8-8)*u)),!((s=(a=this.options.components)===null||a===void 0?void 0:a.cornerAlignment)===null||s===void 0)&&s.protectors&&M._drawAlignProtector(w,Y,Y,u),!((c=(l=this.options.components)===null||l===void 0?void 0:l.alignment)===null||c===void 0)&&c.protectors)for(let B=0;B<$.length;B++)for(let k=0;k<$.length;k++){const T=$[k],L=$[B];if(!(T===6&&(L===6||L===Y))){if(L===6&&(T===6||T===Y))continue;if(T===Y&&L===Y)continue;M._drawAlignProtector(w,T,L,u)}}w.fillStyle=this.options.colorDark,w.fillRect(0,0,7*u,u),w.fillRect((g-7)*u,0,7*u,u),w.fillRect(0,6*u,7*u,u),w.fillRect((g-7)*u,6*u,7*u,u),w.fillRect(0,(g-7)*u,7*u,u),w.fillRect(0,(g-7+6)*u,7*u,u),w.fillRect(0,0,u,7*u),w.fillRect(6*u,0,u,7*u),w.fillRect((g-7)*u,0,u,7*u),w.fillRect((g-7+6)*u,0,u,7*u),w.fillRect(0,(g-7)*u,u,7*u),w.fillRect(6*u,(g-7)*u,u,7*u),w.fillRect(2*u,2*u,3*u,3*u),w.fillRect((g-7+2)*u,2*u,3*u,3*u),w.fillRect(2*u,(g-7+2)*u,3*u,3*u);const $t=((h=(f=this.options.components)===null||f===void 0?void 0:f.timing)===null||h===void 0?void 0:h.scale)||Lt,ue=(1-$t)*.5;for(let B=0;B<g-8;B+=2)M._drawDot(w,8+B,6,u,ue,$t),M._drawDot(w,6,8+B,u,ue,$t);const fe=((x=(b=this.options.components)===null||b===void 0?void 0:b.cornerAlignment)===null||x===void 0?void 0:x.scale)||Lt,Ge=(1-fe)*.5;M._drawAlign(w,Y,Y,u,Ge,fe,this.options.colorDark,((P=(E=this.options.components)===null||E===void 0?void 0:E.cornerAlignment)===null||P===void 0?void 0:P.protectors)||!1);const he=((m=(R=this.options.components)===null||R===void 0?void 0:R.alignment)===null||m===void 0?void 0:m.scale)||Lt,He=(1-he)*.5;for(let B=0;B<$.length;B++)for(let k=0;k<$.length;k++){const T=$[k],L=$[B];if(!(T===6&&(L===6||L===Y))){if(L===6&&(T===6||T===Y))continue;if(T===Y&&L===Y)continue;M._drawAlign(w,T,L,u,He,he,this.options.colorDark,((A=(v=this.options.components)===null||v===void 0?void 0:v.alignment)===null||A===void 0?void 0:A.protectors)||!1)}}if(D&&(w.fillStyle=this.options.backgroundColor,w.fillRect(-y,-y,C,y),w.fillRect(-y,N,C,y),w.fillRect(N,-y,y,C),w.fillRect(-y,-y,y,C)),this.options.logoImage){const B=yield Pe(this.options.logoImage);let k=this.options.logoScale,T=this.options.logoMargin,L=this.options.logoCornerRadius;(k<=0||k>=1)&&(k=.2),T<0&&(T=0),L<0&&(L=0);const V=N*k,z=.5*(C-V),G=z;w.restore(),w.fillStyle=this.options.logoBackgroundColor,w.save(),M._prepareRoundedCornerClip(w,z-T,G-T,V+2*T,V+2*T,L+T),w.clip();const rt=w.globalCompositeOperation;w.globalCompositeOperation="destination-out",w.fill(),w.globalCompositeOperation=rt,w.restore(),w.save(),M._prepareRoundedCornerClip(w,z,G,V,V,L),w.clip(),w.drawImage(B,z,G,V,V),w.restore(),w.save(),w.translate(y,y)}if(tt){let B,k,T,L,V,z;if(ft.forEach(function(G){B||(B=new U(d,d),B.setDelay(G.delay),B.setRepeat(0));const{width:rt,height:X}=G.dims;k||(k=new at(rt,X),T=k.getContext("2d"),T.rect(0,0,k.width,k.height),T.fillStyle="#ffffff",T.fill()),(!L||!z||rt!==L.width||X!==L.height)&&(L=new at(rt,X),V=L.getContext("2d"),z=V.createImageData(rt,X)),z.data.set(G.patch),V.putImageData(z,0,0),T.drawImage(L.getContext("2d").canvas,G.dims.left,G.dims.top);const St=new at(C,C),_t=St.getContext("2d");_t.drawImage(k.getContext("2d").canvas,0,0,C,C),_t.rect(0,0,C,C),_t.fillStyle=O,_t.fill(),_t.drawImage(j.getContext("2d").canvas,0,0,C,C);const Vt=new at(d,d),de=Vt.getContext("2d");de.drawImage(St.getContext("2d").canvas,0,0,d,d),B.addFrame(de.getImageData(0,0,Vt.width,Vt.height).data)}),!B)throw new Error("No frames.");if(B.finish(),Ee(this.canvas)){const rt=B.stream().toFlattenUint8Array().reduce((X,St)=>X+String.fromCharCode(St),"");return Promise.resolve(`data:image/gif;base64,${window.btoa(rt)}`)}return Promise.resolve(Buffer.from(B.stream().toFlattenUint8Array()))}else{H.drawImage(j.getContext("2d").canvas,0,0,C,C),w.drawImage(mt.getContext("2d").canvas,-y,-y,C,C);const B=new at(d,d);B.getContext("2d").drawImage(j.getContext("2d").canvas,0,0,d,d),this.canvas=B;const T=this.options.gifBackground?"gif":"png";return Ee(this.canvas)?Promise.resolve(this.canvas.toDataURL(T)):Promise.resolve(this.canvas.toBuffer(T))}})}}M.CorrectLevel=Q;M.defaultComponentOptions={data:{scale:.4},timing:{scale:.5,protectors:!1},alignment:{scale:.5,protectors:!1},cornerAlignment:{scale:.5,protectors:!0}};M.defaultOptions={text:"",size:400,margin:20,colorDark:"#000000",colorLight:"rgba(255, 255, 255, 0.6)",correctLevel:Q.M,backgroundImage:void 0,backgroundDimming:"rgba(0,0,0,0)",logoImage:void 0,logoScale:.2,logoMargin:4,logoCornerRadius:8,whiteMargin:!0,components:M.defaultComponentOptions,autoColor:!0,logoBackgroundColor:"#ffffff",backgroundColor:"#ffffff"};function Ee(o){try{return o instanceof HTMLElement}catch{return typeof o=="object"&&o.nodeType===1&&typeof o.style=="object"&&typeof o.ownerDocument=="object"}}const En={props:{text:{type:String,required:!0},qid:{type:String},correctLevel:{type:Number,default:1},size:{type:Number,default:200},margin:{type:Number,default:20},colorDark:{type:String,default:"#000000"},colorLight:{type:String,default:"#FFFFFF"},bgSrc:{type:String,default:void 0},background:{type:String,default:"rgba(0,0,0,0)"},backgroundDimming:{type:String,default:"rgba(0,0,0,0)"},logoSrc:{type:String,default:void 0},logoBackgroundColor:{type:String,default:"rgba(255,255,255,1)"},gifBgSrc:{type:String,default:void 0},logoScale:{type:Number,default:.2},logoMargin:{type:Number,default:0},logoCornerRadius:{type:Number,default:8},whiteMargin:{type:[Boolean,String],default:!0},dotScale:{type:Number,default:1},autoColor:{type:[Boolean,String],default:!0},binarize:{type:[Boolean,String],default:!1},binarizeThreshold:{type:Number,default:128},callback:{type:Function,default:function(){}},bindElement:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},components:{default:function(){return{data:{scale:1},timing:{scale:1,protectors:!1},alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0}}}}},name:"vue-qr",data(){return{imgUrl:""}},watch:{$props:{deep:!0,handler(){this.main()}}},mounted(){this.main()},methods:{async main(){if(this.gifBgSrc){const e=await Br(this.gifBgSrc),r=this.logoSrc;this.render(void 0,r,e);return}const o=this.bgSrc,t=this.logoSrc;this.render(o,t)},async render(o,t,e){const r=this;new M({gifBackground:e,text:r.text,size:r.size,margin:r.margin,colorDark:r.colorDark,colorLight:r.colorLight,backgroundColor:r.backgroundColor,backgroundImage:o,backgroundDimming:r.backgroundDimming,logoImage:t,logoScale:r.logoScale,logoBackgroundColor:r.logoBackgroundColor,correctLevel:r.correctLevel,logoMargin:r.logoMargin,logoCornerRadius:r.logoCornerRadius,whiteMargin:Qt(r.whiteMargin),dotScale:r.dotScale,autoColor:Qt(r.autoColor),binarize:Qt(r.binarize),binarizeThreshold:r.binarizeThreshold,components:r.components}).draw().then(n=>{this.imgUrl=n,r.callback&&r.callback(n,r.qid)})}}},kn=["src"];function Sn(o,t,e,r,n,i){return e.bindElement?(ct(),kt("img",{key:0,style:{display:"inline-block"},src:n.imgUrl},null,8,kn)):Ye("",!0)}var Dn=ne(En,[["render",Sn]]),Tn="/assets/avatar.e9c3cbe5.jpg";const Ue=o=>(rr("data-v-287002eb"),o=o(),nr(),o),In=Ue(()=>oe("img",{alt:"Linkedin personal",src:ke},null,-1)),Ln=ut(" Ir a "),Mn=Ue(()=>oe("img",{class:"linkedin",src:ke},null,-1)),Rn=re({__name:"TheLinkedin",setup(o){const t=Et(!1);return(e,r)=>(ct(),kt(Ut,null,[S(Ot,{round:"",onClick:r[0]||(r[0]=n=>t.value=!0)},{default:I(()=>[S(Ft,{size:"42px"},{default:I(()=>[In]),_:1})]),_:1}),S(er,{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=n=>t.value=n)},{default:I(()=>[S(qe,null,{default:I(()=>[S(pe,{class:"text-center"},{default:I(()=>[S(Ot,{color:"primary",outline:"",rounded:"","no-caps":"",href:"https://www.linkedin.com/in/webferrol/",target:"_blank"},{default:I(()=>[Ln,Mn]),_:1})]),_:1}),S(pe,{class:"q-pt-none"},{default:I(()=>[S(Dn,{size:300,margin:50,dotScale:.6,"logo-src":jt(Tn),text:"https://www.linkedin.com/in/webferrol/"},null,8,["dotScale","logo-src"])]),_:1}),S(tr,{align:"right"},{default:I(()=>[Mt(S(Ot,{outline:"",label:"Cerrar",color:"primary"},null,512),[[Nt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});var Fn=ne(Rn,[["__scopeId","data-v-287002eb"]]);const On={class:"dropdown-list"},Nn=ut("Opciones"),jn=re({__name:"MainLayoutFronted",setup(o){const t=Et(!1),e=dt(()=>t.value?"menu_open":"menu"),r=[{title:"Experiencia laboral",caption:"Curriculum Vitae",icon:"assignment",to:{name:"WorkExperience"}}];return(n,i)=>{const a=or("router-view");return ct(),Rt(cr,{view:"hHh lpR fFf"},{default:I(()=>[S(ur,{reveal:"",bordered:"",class:"bg-primary text-white"},{default:I(()=>[S(me,{class:"shadow-2 rounded-borders"},{default:I(()=>[S(ve,null,{default:I(()=>[S(Ot,{"no-caps":"",flat:"",label:"WebFerrol",size:"lg",to:{name:"Home"}})]),_:1}),S(pr,{stretch:"",flat:"",icon:jt(e),modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=s=>t.value=s)},{default:I(()=>[oe("div",On,[S(gr,null,{default:I(()=>[S(_r),S(ir),S(gt,{header:""},{default:I(()=>[Nn]),_:1}),(ct(),kt(Ut,null,ar(r,s=>S(dr,sr({key:s.title},s),null,16)),64))]),_:1})])]),_:1},8,["icon","modelValue"])]),_:1})]),_:1}),S(fr,null,{default:I(()=>[S(a)]),_:1}),S(mr,{elevated:"",class:"bg-grey-8 text-white"},{default:I(()=>[S(me,{class:"shadow-2 rounded-borders"},{default:I(()=>[S(ve,null,{default:I(()=>[S(hr)]),_:1}),S(Fn)]),_:1})]),_:1})]),_:1})}}});var Jn=ne(jn,[["__scopeId","data-v-832ef31a"]]);export{Jn as default};
